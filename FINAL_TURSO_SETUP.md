# ‚úÖ –§–ò–ù–ê–õ–¨–ù–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê: Turso (SQLite) - –ù–ï –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù!

## üéØ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ:

1. ‚úÖ –°–æ–∑–¥–∞–Ω –∫–æ–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Turso (`lib/turso/db.ts`)
2. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ API routes
3. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `package.json` (–¥–æ–±–∞–≤–ª–µ–Ω `@libsql/client`)
4. ‚úÖ –°–æ–∑–¥–∞–Ω SQL —Ñ–∞–π–ª –¥–ª—è Turso (`supabase/schema-turso.sql`)
5. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –ø–æ–¥ SQLite

## üìã –ß—Ç–æ –¥–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–°:

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å Turso –±–∞–∑—É

1. **Vercel Dashboard** ‚Üí **Storage** ‚Üí **Create Database**
2. –í —Å–ø–∏—Å–∫–µ –Ω–∞–π–¥–∏—Ç–µ **"Turso"** (Serverless SQLite)
3. –ù–∞–∂–º–∏—Ç–µ **"Continue"**
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **Name**: `course-health-db`
   - **Region**: –≤—ã–±–µ—Ä–∏—Ç–µ –±–ª–∏–∂–∞–π—à–∏–π
   - **Plan**: Free
5. –ù–∞–∂–º–∏—Ç–µ **"Create"**

### –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É

1. –í —Å–æ–∑–¥–∞–Ω–Ω–æ–π Turso –±–∞–∑–µ ‚Üí **"Connect Project"**
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç: `course-sport`
3. –û–∫—Ä—É–∂–µ–Ω–∏—è: ‚úÖ Development, ‚úÖ Preview, ‚úÖ Production
4. Environment Variable: `TURSO_DATABASE_URL` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
5. Token: `TURSO_AUTH_TOKEN` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
6. –ù–∞–∂–º–∏—Ç–µ **"Connect"**

### –®–∞–≥ 3: –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL —Å—Ö–µ–º—É

**–ì–¥–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å SQL:**

1. –í Vercel Dashboard ‚Üí Storage ‚Üí –≤–∞—à–∞ Turso –±–∞–∑–∞
2. –û—Ç–∫—Ä–æ–π—Ç–µ –±–∞–∑—É
3. –ù–∞–π–¥–∏—Ç–µ **SQL Editor** –∏–ª–∏ **Query**
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–≤–µ—Å—å –∫–æ–¥** –∏–∑ —Ñ–∞–π–ª–∞ `supabase/schema-turso.sql`
5. –í—Å—Ç–∞–≤—å—Ç–µ –≤ SQL Editor
6. –ù–∞–∂–º–∏—Ç–µ **"Run"** –∏–ª–∏ **"Execute"**

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã!

### –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
npm install @libsql/client
```

### –®–∞–≥ 5: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–ø–ª–æ–π

Vercel Dashboard ‚Üí Deployments ‚Üí –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π ‚Üí **Redeploy**

## üìä –¢–∞–±–ª–∏—Ü—ã –≤ –±–∞–∑–µ:

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL —É –≤–∞—Å –±—É–¥—É—Ç:

- ‚úÖ `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- ‚úÖ `sessions` - —Å–µ—Å—Å–∏–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ `courses` - –∫—É—Ä—Å—ã
- ‚úÖ `categories` - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- ‚úÖ `instructors` - –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã
- ‚úÖ `lessons` - —É—Ä–æ–∫–∏
- ‚úÖ `enrollments` - –∑–∞–ø–∏—Å–∏ –Ω–∞ –∫—É—Ä—Å—ã
- ‚úÖ `user_balance` - –±–∞–ª–∞–Ω—Å
- ‚úÖ `referrals` - —Ä–µ—Ñ–µ—Ä–∞–ª—ã
- ‚úÖ `transactions` - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

## üí° –ü—Ä–∏–º–µ—Ä—ã SQL –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:

### –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```sql
INSERT INTO users (id, name, email) 
VALUES ('550e8400-e29b-41d4-a716-446655440000', '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤', 'ivan@example.com');
```

### –î–æ–±–∞–≤–∏—Ç—å –∫—É—Ä—Å:
```sql
INSERT INTO courses (id, title, description, short_description, price, image_url, category_id, instructor_id, duration_minutes, is_published)
VALUES (
  '550e8400-e29b-41d4-a716-446655440001',
  '–ö–µ—Ç–æ –î–∏–µ—Ç–∞ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö',
  '–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ',
  '–ò–∑—É—á–∏ –æ—Å–Ω–æ–≤—ã',
  1500,
  '/img/keto.png',
  (SELECT id FROM categories LIMIT 1),
  (SELECT id FROM instructors LIMIT 1),
  1200,
  1
);
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–∞–Ω–Ω—ã–µ:
```sql
-- –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
SELECT * FROM users;

-- –í—Å–µ –∫—É—Ä—Å—ã
SELECT * FROM courses WHERE is_published = 1;

-- –ë–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
SELECT * FROM user_balance WHERE user_id = 'user-id';
```

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:
- ‚úÖ –£ –≤–∞—Å –±—É–¥–µ—Ç SQL –±–∞–∑–∞ —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏
- ‚úÖ –ú–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å SQL –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ SQL
- ‚úÖ –ù–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –≤ –†–§
- ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ

## üîç –ì–¥–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å SQL –≤ –±—É–¥—É—â–µ–º:

1. **Vercel Dashboard** ‚Üí Storage ‚Üí –≤–∞—à–∞ Turso –±–∞–∑–∞ ‚Üí SQL Editor
2. –õ—é–±–æ–π SQLite –∫–ª–∏–µ–Ω—Ç —Å `TURSO_DATABASE_URL` –∏ `TURSO_AUTH_TOKEN`
