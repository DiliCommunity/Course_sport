# üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Vercel

## ‚ö†Ô∏è –í–∞–∂–Ω–æ: NEXT_PUBLIC_ –ø—Ä–µ—Ñ–∏–∫—Å

–í Next.js –µ—Å—Ç—å **–∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ** –º–µ–∂–¥—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

### üîµ –° –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `NEXT_PUBLIC_` (–¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —á–∞—Å—Ç–∏)
- **–î–æ—Å—Ç—É–ø–Ω—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ** (JavaScript –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ)
- **–í—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ —Å–±–æ—Ä–∫—É** –ø—Ä–∏ `npm run build`
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### üî¥ –ë–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞)
- **–î–æ—Å—Ç—É–ø–Ω—ã –¢–û–õ–¨–ö–û –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ** (API routes, Server Components)
- **–ù–ï –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ**
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ `/app/api/*` routes –∏ Server Components

---

## üìã –ö–∞–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω—É–∂–Ω—ã –≤ Vercel:

### ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ (—Å `NEXT_PUBLIC_`):

```env
NEXT_PUBLIC_SUPABASE_URL=https://jsrhtlrwdxefgxiwdvus.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

**–ü–æ—á–µ–º—É –Ω—É–∂–Ω—ã:**
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ `lib/supabase/client.ts` - —ç—Ç–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ `lib/supabase/server.ts` - –Ω–æ Next.js –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∏—Ö –≤ —Å–µ—Ä–≤–µ—Ä–Ω—É—é —Å–±–æ—Ä–∫—É

### ‚úÖ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ (–±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞, —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞):

```env
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

**–ü–æ—á–µ–º—É –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¢–û–õ–¨–ö–û –≤ API routes (`/app/api/*`)
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ–ø–∞–¥–∞—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å!)

---

## üö´ –ß—Ç–æ –ù–ï –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å:

**–ù–ï –¥–æ–±–∞–≤–ª—è–π—Ç–µ –¥—É–±–ª–∏–∫–∞—Ç—ã –±–µ–∑ `NEXT_PUBLIC_`:**
```env
# ‚ùå –ù–ï –ù–£–ñ–ù–û - —ç—Ç–æ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ!
SUPABASE_URL=...
SUPABASE_ANON_KEY=...
```

**–ü–æ—á–µ–º—É:**
- –ö–æ–¥ –≤ `lib/supabase/client.ts` –∏—â–µ—Ç `NEXT_PUBLIC_SUPABASE_URL`
- –ï—Å–ª–∏ –≤—ã –¥–æ–±–∞–≤–∏—Ç–µ `SUPABASE_URL` –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞, –æ–Ω –Ω–µ –±—É–¥–µ—Ç –Ω–∞–π–¥–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –≠—Ç–æ –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É "Missing Supabase environment variables"

---

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Vercel:

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Environment Variables
1. Vercel Dashboard ‚Üí –í–∞—à –ø—Ä–æ–µ–∫—Ç
2. **Settings** ‚Üí **Environment Variables**

### –®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–¥–ª—è Production, Preview, Development):

| Name | Value | Environment |
|------|-------|-------------|
| `NEXT_PUBLIC_SUPABASE_URL` | `https://jsrhtlrwdxefgxiwdvus.supabase.co` | ‚úÖ Production, ‚úÖ Preview, ‚úÖ Development |
| `NEXT_PUBLIC_SUPABASE_ANON_KEY` | `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...` | ‚úÖ Production, ‚úÖ Preview, ‚úÖ Development |
| `SUPABASE_SERVICE_ROLE_KEY` | `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...` | ‚úÖ Production, ‚úÖ Preview, ‚úÖ Development |

### –®–∞–≥ 3: –£–¥–∞–ª–∏—Ç–µ –¥—É–±–ª–∏–∫–∞—Ç—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)
- ‚ùå –£–¥–∞–ª–∏—Ç–µ `SUPABASE_URL` (–±–µ–∑ `NEXT_PUBLIC_`)
- ‚ùå –£–¥–∞–ª–∏—Ç–µ `SUPABASE_ANON_KEY` (–±–µ–∑ `NEXT_PUBLIC_`)

### –®–∞–≥ 4: –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –ø–µ—Ä–µ–¥–µ–ø–ª–æ–π—Ç–µ
1. –ù–∞–∂–º–∏—Ç–µ **Save** –¥–ª—è –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Deployments**
3. –ù–∞–∂–º–∏—Ç–µ **‚ãÆ** (—Ç—Ä–∏ —Ç–æ—á–∫–∏) —É –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –¥–µ–ø–ª–æ—è
4. –í—ã–±–µ—Ä–∏—Ç–µ **Redeploy**

---

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç:

### –í –±—Ä–∞—É–∑–µ—Ä–µ (Console):
```javascript
// –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
console.log(process.env.NEXT_PUBLIC_SUPABASE_URL)
// –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –≤–∞—à URL

console.log(process.env.SUPABASE_SERVICE_ROLE_KEY)
// –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å undefined (—ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ!)
```

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (API route):
```typescript
// –í /app/api/test/route.ts
export async function GET() {
  return Response.json({
    publicUrl: process.env.NEXT_PUBLIC_SUPABASE_URL, // ‚úÖ –î–æ—Å—Ç—É–ø–µ–Ω
    serviceKey: process.env.SUPABASE_SERVICE_ROLE_KEY ? 'exists' : 'missing' // ‚úÖ –î–æ—Å—Ç—É–ø–µ–Ω
  })
}
```

---

## üêõ –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –Ω–µ –∏—Å—á–µ–∑–ª–∞:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:**
   - ‚úÖ `NEXT_PUBLIC_SUPABASE_URL` (—Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º!)
   - ‚úÖ `NEXT_PUBLIC_SUPABASE_ANON_KEY` (—Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º!)
   - ‚ùå –ù–ï `SUPABASE_URL` –∏–ª–∏ `SUPABASE_ANON_KEY`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–ª—è **Production, Preview, Development**

3. **–°–¥–µ–ª–∞–π—Ç–µ Redeploy:**
   - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–æ–≤–æ–º –¥–µ–ø–ª–æ–µ
   - –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–¥–µ–ª–∞–π—Ç–µ **Redeploy**

4. **–û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à:**
   - –í Vercel: Settings ‚Üí General ‚Üí Clear Build Cache
   - –°–¥–µ–ª–∞–π—Ç–µ –Ω–æ–≤—ã–π –¥–µ–ø–ª–æ–π

---

## üìù –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ü—Ä–µ—Ñ–∏–∫—Å | –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | –î–æ—Å—Ç—É–ø–Ω–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ |
|------------|---------|------------------|---------------------|
| `NEXT_PUBLIC_SUPABASE_URL` | ‚úÖ –î–∞ | `lib/supabase/client.ts`, `lib/supabase/server.ts` | ‚úÖ –î–∞ |
| `NEXT_PUBLIC_SUPABASE_ANON_KEY` | ‚úÖ –î–∞ | `lib/supabase/client.ts`, `lib/supabase/server.ts` | ‚úÖ –î–∞ |
| `SUPABASE_SERVICE_ROLE_KEY` | ‚ùå –ù–µ—Ç | –¢–æ–ª—å–∫–æ –≤ API routes | ‚ùå –ù–µ—Ç (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å) |

---

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä `.env.local` (–ª–æ–∫–∞–ª—å–Ω–æ):

```env
# ‚úÖ –° –ø—Ä–µ—Ñ–∏–∫—Å–æ–º - –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Å–µ—Ä–≤–µ—Ä–∞
NEXT_PUBLIC_SUPABASE_URL=https://jsrhtlrwdxefgxiwdvus.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ‚úÖ –ë–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ - —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

**–í Vercel –¥–æ–±–∞–≤—å—Ç–µ —Ç–æ—á–Ω–æ —Ç–∞–∫–∏–µ –∂–µ –∏–º–µ–Ω–∞!**
