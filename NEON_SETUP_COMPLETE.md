# ‚úÖ –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Neon PostgreSQL

## üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–∏—Ç—å Neon –∫ –ø—Ä–æ–µ–∫—Ç—É

1. **Vercel Dashboard** ‚Üí **Storage**
2. –ù–∞–π–¥–∏—Ç–µ –±–∞–∑—É **`db-course-health`** (Neon)
3. –ù–∞–∂–º–∏—Ç–µ **"Connect Project"**
4. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç: `course-sport`
5. –û–∫—Ä—É–∂–µ–Ω–∏—è: ‚úÖ Development, ‚úÖ Preview, ‚úÖ Production
6. Environment Variable: `STORAGE_URL` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
7. –ù–∞–∂–º–∏—Ç–µ **"Connect"**

### –®–∞–≥ 2: –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL —Å—Ö–µ–º—É

**–ì–¥–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å SQL:**

#### –í–∞—Ä–∏–∞–Ω—Ç A: –í Vercel Dashboard
1. Storage ‚Üí –≤–∞—à–∞ Neon –±–∞–∑–∞ ‚Üí **SQL Editor**
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –∫–æ–¥ –∏–∑ `supabase/schema.sql`
3. –í—Å—Ç–∞–≤—å—Ç–µ –∏ –Ω–∞–∂–º–∏—Ç–µ **"Run"**

#### –í–∞—Ä–∏–∞–Ω—Ç B: –í Neon Dashboard
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ **neon.tech**
2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏ –±–∞–∑—É
4. –û—Ç–∫—Ä–æ–π—Ç–µ **SQL Editor**
5. –í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –∏–∑ `supabase/schema.sql`
6. –í—ã–ø–æ–ª–Ω–∏—Ç–µ

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
npm install @neondatabase/serverless
```

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥

–Ø —É–∂–µ —Å–æ–∑–¥–∞–ª `lib/neon/db.ts` —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL.

–ù—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã:
- `from '@/lib/vercel/redis'` ‚Üí `from '@/lib/neon/db'`

### –®–∞–≥ 5: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–ø–ª–æ–π

Vercel Dashboard ‚Üí Deployments ‚Üí Redeploy

## üìä –¢–∞–±–ª–∏—Ü—ã –≤ –±–∞–∑–µ:

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL —É –≤–∞—Å –±—É–¥—É—Ç:

- ‚úÖ `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- ‚úÖ `courses` - –∫—É—Ä—Å—ã
- ‚úÖ `categories` - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- ‚úÖ `instructors` - –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã
- ‚úÖ `lessons` - —É—Ä–æ–∫–∏
- ‚úÖ `enrollments` - –∑–∞–ø–∏—Å–∏ –Ω–∞ –∫—É—Ä—Å—ã
- ‚úÖ `user_balance` - –±–∞–ª–∞–Ω—Å
- ‚úÖ `referrals` - —Ä–µ—Ñ–µ—Ä–∞–ª—ã
- ‚úÖ `transactions` - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- ‚úÖ `sessions` - —Å–µ—Å—Å–∏–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ `reviews` - –æ—Ç–∑—ã–≤—ã
- ‚úÖ `lesson_progress` - –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —É—Ä–æ–∫–∞–º

## üí° –ü—Ä–∏–º–µ—Ä—ã SQL –∑–∞–ø—Ä–æ—Å–æ–≤:

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
```sql
SELECT * FROM users;
```

### –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```sql
INSERT INTO users (name, email) 
VALUES ('–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤', 'ivan@example.com');
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫—É—Ä—Å—ã:
```sql
SELECT * FROM courses WHERE is_published = true;
```

### –î–æ–±–∞–≤–∏—Ç—å –∫—É—Ä—Å:
```sql
INSERT INTO courses (title, description, short_description, price, image_url, category_id, instructor_id, duration_minutes, is_published)
VALUES (
  '–ù–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞',
  '–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫—É—Ä—Å–∞',
  '–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ',
  1500,
  '/img/course.png',
  (SELECT id FROM categories LIMIT 1),
  (SELECT id FROM instructors LIMIT 1),
  1200,
  true
);
```

### –û–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```sql
UPDATE user_balance 
SET balance = 1000, total_earned = 5000 
WHERE user_id = 'user-id-here';
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:
```sql
SELECT * FROM transactions 
ORDER BY created_at DESC 
LIMIT 20;
```

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ:
- ‚úÖ –£ –≤–∞—Å –±—É–¥—É—Ç —Ç–∞–±–ª–∏—Ü—ã –≤ PostgreSQL
- ‚úÖ –ú–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å SQL –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ SQL
- ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ
