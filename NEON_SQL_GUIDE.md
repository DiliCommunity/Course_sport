# üìä –†–∞–±–æ—Ç–∞ —Å SQL –≤ Neon PostgreSQL

## ‚úÖ –£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å Neon Database!

–ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞—Ö –≤–∏–¥–Ω–æ, —á—Ç–æ –≤—ã —Å–æ–∑–¥–∞–ª–∏ **Neon Database** (`db-course-health`). –≠—Ç–æ PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π SQL!

## üîç –ì–¥–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å SQL –∫–æ–¥:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –í Vercel Dashboard (–ø—Ä–æ—â–µ –≤—Å–µ–≥–æ)

1. **Vercel Dashboard** ‚Üí **Storage**
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à—É –±–∞–∑—É **`db-course-health`** (Neon)
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ—ë
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"SQL Editor"** –∏–ª–∏ **"Query"**
5. –í—Å—Ç–∞–≤—å—Ç–µ SQL –∫–æ–¥ –∏ –Ω–∞–∂–º–∏—Ç–µ **"Run"**

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í Neon Dashboard

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ **neon.tech**
2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç (—á–µ—Ä–µ–∑ Vercel –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ)
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
4. –û—Ç–∫—Ä–æ–π—Ç–µ **"SQL Editor"**
5. –í—ã–ø–æ–ª–Ω—è–π—Ç–µ SQL –∑–∞–ø—Ä–æ—Å—ã

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ –∫–æ–¥ (–º–∏–≥—Ä–∞—Ü–∏–∏)

–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–π –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

## üìù –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ SQL:

### –ü—Ä–∏–º–µ—Ä 1: –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```sql
INSERT INTO users (name, email, telegram_id) 
VALUES ('–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤', 'ivan@example.com', '123456789');
```

### –ü—Ä–∏–º–µ—Ä 2: –î–æ–±–∞–≤–∏—Ç—å –∫—É—Ä—Å
```sql
INSERT INTO courses (title, description, short_description, price, image_url, category_id, instructor_id, duration_minutes, is_published)
VALUES (
  '–ö–µ—Ç–æ –î–∏–µ—Ç–∞ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö',
  '–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∫–µ—Ç–æ-–¥–∏–µ—Ç–µ',
  '–ò–∑—É—á–∏ –æ—Å–Ω–æ–≤—ã –∫–µ—Ç–æ-–¥–∏–µ—Ç—ã',
  1500,
  '/img/keto_course.png',
  (SELECT id FROM categories WHERE slug = 'fitness' LIMIT 1),
  (SELECT id FROM instructors LIMIT 1),
  1200,
  true
);
```

### –ü—Ä–∏–º–µ—Ä 3: –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```sql
SELECT * FROM users;
```

### –ü—Ä–∏–º–µ—Ä 4: –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫—É—Ä—Å—ã
```sql
SELECT * FROM courses WHERE is_published = true;
```

## üóÑÔ∏è –¢–∞–±–ª–∏—Ü—ã –≤ –≤–∞—à–µ–π –±–∞–∑–µ:

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `supabase/schema.sql` —É –≤–∞—Å –±—É–¥—É—Ç —Ç–∞–±–ª–∏—Ü—ã:

- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `courses` - –∫—É—Ä—Å—ã
- `categories` - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `instructors` - –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã
- `lessons` - —É—Ä–æ–∫–∏
- `enrollments` - –∑–∞–ø–∏—Å–∏ –Ω–∞ –∫—É—Ä—Å—ã
- `user_balance` - –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `referrals` - —Ä–µ—Ñ–µ—Ä–∞–ª—ã
- `transactions` - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `reviews` - –æ—Ç–∑—ã–≤—ã
- `lesson_progress` - –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —É—Ä–æ–∫–∞–º

## üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å:

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–∏—Ç—å Neon –∫ –ø—Ä–æ–µ–∫—Ç—É

1. –í Vercel Dashboard ‚Üí **Storage** ‚Üí –≤–∞—à–∞ Neon –±–∞–∑–∞
2. –ù–∞–∂–º–∏—Ç–µ **"Connect Project"**
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç `course-sport`
4. –í—ã–±–µ—Ä–∏—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è: Development, Preview, Production
5. Environment Variable: `STORAGE_URL` (–∏–ª–∏ –¥—Ä—É–≥–æ–µ –∏–º—è)
6. –ù–∞–∂–º–∏—Ç–µ **"Connect"**

### –®–∞–≥ 2: –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL —Å—Ö–µ–º—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ **SQL Editor** –≤ Neon
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –∫–æ–¥ –∏–∑ `supabase/schema.sql`
3. –í—Å—Ç–∞–≤—å—Ç–µ –≤ SQL Editor
4. –ù–∞–∂–º–∏—Ç–µ **"Run"** –∏–ª–∏ **"Execute"**

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥—Ä–∞–π–≤–µ—Ä

```bash
npm install @neondatabase/serverless
```

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥

–ù—É–∂–Ω–æ –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å –∫–æ–¥ —Å Redis –Ω–∞ Neon PostgreSQL.

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

**Redis (Upstash)** - —ç—Ç–æ key-value —Ö—Ä–∞–Ω–∏–ª–∏—â–µ:
- ‚ùå –ù–µ—Ç —Ç–∞–±–ª–∏—Ü
- ‚ùå –ù–µ—Ç SQL
- ‚úÖ –¢–æ–ª—å–∫–æ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–¥

**PostgreSQL (Neon)** - —ç—Ç–æ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞:
- ‚úÖ –ï—Å—Ç—å —Ç–∞–±–ª–∏—Ü—ã
- ‚úÖ –ï—Å—Ç—å SQL
- ‚úÖ –ú–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å SQL –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SQL –∫–ª–∏–µ–Ω—Ç—ã

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Neon PostgreSQL** –¥–ª—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫ –∫–∞–∫:
- –£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–Ω–∞—è –±–∞–∑–∞
- –ù—É–∂–Ω—ã —Ç–∞–±–ª–∏—Ü—ã –∏ SQL
- –ü—Ä–æ—â–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥–∞–Ω–Ω—ã–º–∏
- –ú–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å SQL –∑–∞–ø—Ä–æ—Å—ã

–•–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —è –ø–µ—Ä–µ–¥–µ–ª–∞–ª –∫–æ–¥ –ø–æ–¥ Neon PostgreSQL?
